<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>TombEngine 1.11 Lua API</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>&nbsp;TombEngine</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>1 Special Tables</h2>
<ul class="nowrap">
  <li>    <a href="../1 special tables/GameVars.html">GameVars</a></li>
  <li>    <a href="../1 special tables/LevelFuncs.html">LevelFuncs</a></li>
  <li>    <a href="../1 special tables/LevelVars.html">LevelVars</a></li>
</ul>
<h2>2 Modules</h2>
<ul class="nowrap">
  <li>    <a href="../2 modules/Effects.html">Effects</a></li>
  <li>    <a href="../2 modules/Flow.html">Flow</a></li>
  <li>    <a href="../2 modules/Input.html">Input</a></li>
  <li>    <a href="../2 modules/Inventory.html">Inventory</a></li>
  <li>    <a href="../2 modules/Logic.html">Logic</a></li>
  <li>    <a href="../2 modules/Objects.html">Objects</a></li>
  <li>    <a href="../2 modules/Sound.html">Sound</a></li>
  <li>    <a href="../2 modules/Strings.html">Strings</a></li>
  <li>    <a href="../2 modules/Util.html">Util</a></li>
  <li>    <a href="../2 modules/View.html">View</a></li>
</ul>
<h2>3 Classes</h2>
<ul class="nowrap">
  <li>    <here>Collision.Ray</here></li>
  <li>    <a href="../3 classes/Collision.Probe.html">Collision.Probe</a></li>
  <li>    <a href="../3 classes/Flow.Level.html">Flow.Level</a></li>
  <li>    <a href="../3 classes/Flow.Settings.html">Flow.Settings</a></li>
  <li>    <a href="../3 classes/Flow.Statistics.html">Flow.Statistics</a></li>
  <li>    <a href="../3 classes/Objects.AIObject.html">Objects.AIObject</a></li>
  <li>    <a href="../3 classes/Objects.Camera.html">Objects.Camera</a></li>
  <li>    <a href="../3 classes/Objects.LaraObject.html">Objects.LaraObject</a></li>
  <li>    <a href="../3 classes/Objects.Moveable.html">Objects.Moveable</a></li>
  <li>    <a href="../3 classes/Objects.Room.html">Objects.Room</a></li>
  <li>    <a href="../3 classes/Objects.Sink.html">Objects.Sink</a></li>
  <li>    <a href="../3 classes/Objects.SoundSource.html">Objects.SoundSource</a></li>
  <li>    <a href="../3 classes/Objects.Static.html">Objects.Static</a></li>
  <li>    <a href="../3 classes/Objects.Volume.html">Objects.Volume</a></li>
  <li>    <a href="../3 classes/Strings.DisplayString.html">Strings.DisplayString</a></li>
  <li>    <a href="../3 classes/View.DisplaySprite.html">View.DisplaySprite</a></li>
</ul>
<h2>4 Primitive Classes</h2>
<ul class="nowrap">
  <li>    <a href="../4 primitive classes/Flow.Fog.html">Flow.Fog</a></li>
  <li>    <a href="../4 primitive classes/Flow.Horizon.html">Flow.Horizon</a></li>
  <li>    <a href="../4 primitive classes/Flow.InventoryItem.html">Flow.InventoryItem</a></li>
  <li>    <a href="../4 primitive classes/Flow.LensFlare.html">Flow.LensFlare</a></li>
  <li>    <a href="../4 primitive classes/Flow.SkyLayer.html">Flow.SkyLayer</a></li>
  <li>    <a href="../4 primitive classes/Flow.Starfield.html">Flow.Starfield</a></li>
  <li>    <a href="../4 primitive classes/Color.html">Color</a></li>
  <li>    <a href="../4 primitive classes/Rotation.html">Rotation</a></li>
  <li>    <a href="../4 primitive classes/Time.html">Time</a></li>
  <li>    <a href="../4 primitive classes/Vec2.html">Vec2</a></li>
  <li>    <a href="../4 primitive classes/Vec3.html">Vec3</a></li>
  <li>    <a href="../4 primitive classes/View.DisplayAnchors.html">View.DisplayAnchors</a></li>
</ul>
<h2>5 Enums</h2>
<ul class="nowrap">
  <li>    <a href="../5 enums/Collision.IntersectionType.html">Collision.IntersectionType</a></li>
  <li>    <a href="../5 enums/Collision.MaterialType.html">Collision.MaterialType</a></li>
  <li>    <a href="../5 enums/Effects.BlendID.html">Effects.BlendID</a></li>
  <li>    <a href="../5 enums/Effects.EffectID.html">Effects.EffectID</a></li>
  <li>    <a href="../5 enums/Effects.StreamerFeatherMode.html">Effects.StreamerFeatherMode</a></li>
  <li>    <a href="../5 enums/Effects.ParticleAnimationType.html">Effects.ParticleAnimationType</a></li>
  <li>    <a href="../5 enums/Flow.ErrorMode.html">Flow.ErrorMode</a></li>
  <li>    <a href="../5 enums/Flow.FreezeMode.html">Flow.FreezeMode</a></li>
  <li>    <a href="../5 enums/Flow.GameStatus.html">Flow.GameStatus</a></li>
  <li>    <a href="../5 enums/Flow.ItemAction.html">Flow.ItemAction</a></li>
  <li>    <a href="../5 enums/Flow.LaraType.html">Flow.LaraType</a></li>
  <li>    <a href="../5 enums/Flow.PathfindingMode.html">Flow.PathfindingMode</a></li>
  <li>    <a href="../5 enums/Flow.WeatherType.html">Flow.WeatherType</a></li>
  <li>    <a href="../5 enums/Input.ActionID.html">Input.ActionID</a></li>
  <li>    <a href="../5 enums/Input.AxisID.html">Input.AxisID</a></li>
  <li>    <a href="../5 enums/Logic.CallbackPoint.html">Logic.CallbackPoint</a></li>
  <li>    <a href="../5 enums/Logic.EventType.html">Logic.EventType</a></li>
  <li>    <a href="../5 enums/Logic.EndReason.html">Logic.EndReason</a></li>
  <li>    <a href="../5 enums/Objects.AmmoType.html">Objects.AmmoType</a></li>
  <li>    <a href="../5 enums/Objects.HandStatus.html">Objects.HandStatus</a></li>
  <li>    <a href="../5 enums/Objects.WaterStatus.html">Objects.WaterStatus</a></li>
  <li>    <a href="../5 enums/Objects.WeaponMode.html">Objects.WeaponMode</a></li>
  <li>    <a href="../5 enums/Objects.WeaponType.html">Objects.WeaponType</a></li>
  <li>    <a href="../5 enums/Objects.InteractionType.html">Objects.InteractionType</a></li>
  <li>    <a href="../5 enums/Objects.MoveableStatus.html">Objects.MoveableStatus</a></li>
  <li>    <a href="../5 enums/Objects.ObjID.html">Objects.ObjID</a></li>
  <li>    <a href="../5 enums/Objects.RoomFlagID.html">Objects.RoomFlagID</a></li>
  <li>    <a href="../5 enums/Objects.RoomReverb.html">Objects.RoomReverb</a></li>
  <li>    <a href="../5 enums/Sound.SoundTrackType.html">Sound.SoundTrackType</a></li>
  <li>    <a href="../5 enums/Strings.DisplayStringOption.html">Strings.DisplayStringOption</a></li>
  <li>    <a href="../5 enums/Util.LogLevel.html">Util.LogLevel</a></li>
  <li>    <a href="../5 enums/View.AlignMode.html">View.AlignMode</a></li>
  <li>    <a href="../5 enums/View.CameraType.html">View.CameraType</a></li>
  <li>    <a href="../5 enums/View.PostProcessMode.html">View.PostProcessMode</a></li>
  <li>    <a href="../5 enums/View.ScaleMode.html">View.ScaleMode</a></li>
</ul>
<h2>6 Lua utility modules</h2>
<ul class="nowrap">
  <li>    <a href="../6 lua utility modules/CustomBar.html">CustomBar</a></li>
  <li>    <a href="../6 lua utility modules/CustomDiary.html">CustomDiary</a></li>
  <li>    <a href="../6 lua utility modules/EventSequence.html">EventSequence</a></li>
  <li>    <a href="../6 lua utility modules/Timer.html">Timer</a></li>
  <li>    <a href="../6 lua utility modules/Type.html">Type</a></li>
</ul>

</div>

<div id="content">

<h1>Class <code>Collision.Ray</code></h1>
<p>Casts a collision ray in the game world.</p>
<p> Provides collision information for collided rooms, moveables, and statics.</p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" ><a href="#Ray">Ray(pos, roomNumber, direction, dist, [hitMoveables], [hitStatics], [penetrate])</a></td>
	<td class="summary">Create a ray at a specified world position, direction, and distance in a room.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#Ray:GetRoom">Ray:GetRoom()</a></td>
	<td class="summary">Get the room hit by the ray.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#Ray:GetRoomPosition">Ray:GetRoomPosition()</a></td>
	<td class="summary">Get the position of the room geometry where the ray hit.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#Ray:GetRoomDistance">Ray:GetRoomDistance()</a></td>
	<td class="summary">Get the distance from the ray origin point to the room hit position.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#Ray:GetRoomNormal">Ray:GetRoomNormal()</a></td>
	<td class="summary">Get the surface normal of the room geometry where the ray hit.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#Ray:GetMoveable">Ray:GetMoveable()</a></td>
	<td class="summary">Get the first moveable hit by the ray.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#Ray:GetMoveables">Ray:GetMoveables()</a></td>
	<td class="summary">Gets all moveables hit by the ray.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#Ray:GetMoveablePosition">Ray:GetMoveablePosition()</a></td>
	<td class="summary">Get the position of the moveable where the ray hit.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#Ray:GetMoveableDistance">Ray:GetMoveableDistance()</a></td>
	<td class="summary">Get the distance from the ray origin to the first moveable hit position.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#Ray:GetStatic">Ray:GetStatic()</a></td>
	<td class="summary">Get the first static mesh hit by the ray.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#Ray:GetStatics">Ray:GetStatics()</a></td>
	<td class="summary">Gets all statics hit by the ray.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#Ray:GetStaticPosition">Ray:GetStaticPosition()</a></td>
	<td class="summary">Get the position of the first static mesh hit by the ray.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#Ray:GetStaticDistance">Ray:GetStaticDistance()</a></td>
	<td class="summary">Get the distance from the ray origin to the first static mesh hit position.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#Ray:HitRoom">Ray:HitRoom([name])</a></td>
	<td class="summary">Check if the ray hit a room.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#Ray:HitMoveable">Ray:HitMoveable([name])</a></td>
	<td class="summary">Check if the ray hit a moveable.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#Ray:HitStatic">Ray:HitStatic([name])</a></td>
	<td class="summary">Check if the ray hit a static mesh.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#Ray:Preview">Ray:Preview()</a></td>
	<td class="summary">Preview this ray in the Collision Stats debug page.</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "Ray"></a>
    <strong>Ray(pos, roomNumber, direction, dist, [hitMoveables], [hitStatics], [penetrate])</strong>
    </dt>
    <dd>
    Create a ray at a specified world position, direction, and distance in a room.



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">pos</span>
            <span class="types"><a class="type" href="../4 primitive classes/Vec3.html#">Vec3</a></span>
         World position.
        </li>
        <li><span class="parameter">roomNumber</span>
            <span class="types"><span class="type">int</span></span>
         Origin room number.
        </li>
        <li><span class="parameter">direction</span>
            <span class="types"><a class="type" href="../4 primitive classes/Vec3.html#">Vec3</a></span>
         Direction vector.
        </li>
        <li><span class="parameter">dist</span>
            <span class="types"><span class="type">float</span></span>
         Maximum distance the ray can travel.
        </li>
        <li><span class="parameter">hitMoveables</span>
            <span class="types"><a class="type" href="../5 enums/Collision.IntersectionType.html#">IntersectionType</a></span>
         Collide with moveables. Disable when not needed or required to optimize performance.
         <em>Default: Collision.IntersectionType.BOX.</em>
        </li>
        <li><span class="parameter">hitStatics</span>
            <span class="types"><a class="type" href="../5 enums/Collision.IntersectionType.html#">IntersectionType</a></span>
         Collide with static meshes. Disable when not needed or required to optimize performance.
         <em>Default: Collision.IntersectionType.BOX.</em>
        </li>
        <li><span class="parameter">penetrate</span>
            <span class="types"><span class="type">bool</span></span>
         Continue the ray test after the first hit. Enable this when you need to collect all collision information beyond the first occlusion point.
         <em>Default: false.</em>
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../3 classes/Collision.Ray.html#Ray">Ray</a></span>
        A new ray object.
    </ol>




</dd>
    <dt>
    <a name = "Ray:GetRoom"></a>
    <strong>Ray:GetRoom()</strong>
    </dt>
    <dd>
    Get the room hit by the ray.




    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../3 classes/Objects.Room.html#">Room</a></span>
        Room object. <em>nil: no room was hit.</em>
    </ol>




</dd>
    <dt>
    <a name = "Ray:GetRoomPosition"></a>
    <strong>Ray:GetRoomPosition()</strong>
    </dt>
    <dd>
    Get the position of the room geometry where the ray hit.




    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../4 primitive classes/Vec3.html#">Vec3</a></span>
        Hit position. <em>nil: no room was hit.</em>
    </ol>




</dd>
    <dt>
    <a name = "Ray:GetRoomDistance"></a>
    <strong>Ray:GetRoomDistance()</strong>
    </dt>
    <dd>
    Get the distance from the ray origin point to the room hit position.




    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">float</span></span>
        Hit distance. <em>nil: no room was hit.</em>
    </ol>




</dd>
    <dt>
    <a name = "Ray:GetRoomNormal"></a>
    <strong>Ray:GetRoomNormal()</strong>
    </dt>
    <dd>
    Get the surface normal of the room geometry where the ray hit.




    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../4 primitive classes/Vec3.html#">Vec3</a></span>
        Surface normal. <em>nil: no room was hit, or no valid room geometry was hit.</em>
    </ol>




</dd>
    <dt>
    <a name = "Ray:GetMoveable"></a>
    <strong>Ray:GetMoveable()</strong>
    </dt>
    <dd>
    Get the first moveable hit by the ray.
 Moveable hits will be detected only if <code>hitMoveables</code> setting was enabled while creating a ray.




    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../3 classes/Objects.Moveable.html#">Moveable</a></span>
        Moveable object. <em>nil: no moveable was hit.</em>
    </ol>




</dd>
    <dt>
    <a name = "Ray:GetMoveables"></a>
    <strong>Ray:GetMoveables()</strong>
    </dt>
    <dd>
    Gets all moveables hit by the ray.
 Multiple moveable hits will be detected only if <code>hitMoveables</code> and <code>penetrate</code> settings were enabled while creating a ray.




    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.4/manual.html#6.6">table</a></span>
        Table of moveables hit by the ray. <em>nil: no moveables were hit.</em>
    </ol>




</dd>
    <dt>
    <a name = "Ray:GetMoveablePosition"></a>
    <strong>Ray:GetMoveablePosition()</strong>
    </dt>
    <dd>
    Get the position of the moveable where the ray hit.
 Valid position will be returned only if <code>hitMoveables</code> setting was enabled while creating a ray.




    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../4 primitive classes/Vec3.html#">Vec3</a></span>
        Hit position. <em>nil: no moveable was hit.</em>
    </ol>




</dd>
    <dt>
    <a name = "Ray:GetMoveableDistance"></a>
    <strong>Ray:GetMoveableDistance()</strong>
    </dt>
    <dd>
    Get the distance from the ray origin to the first moveable hit position.
 Valid distance will be returned only if <code>hitMoveables</code> setting was enabled while creating a ray.




    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">float</span></span>
        Hit distance. <em>nil: no moveable was hit.</em>
    </ol>




</dd>
    <dt>
    <a name = "Ray:GetStatic"></a>
    <strong>Ray:GetStatic()</strong>
    </dt>
    <dd>
    Get the first static mesh hit by the ray.
 Static mesh hits will be detected only if <code>hitStatics</code> setting was enabled while creating a ray.




    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../3 classes/Objects.Static.html#">Static</a></span>
        Static mesh object. <em>nil: no static mesh was hit.</em>
    </ol>




</dd>
    <dt>
    <a name = "Ray:GetStatics"></a>
    <strong>Ray:GetStatics()</strong>
    </dt>
    <dd>
    Gets all statics hit by the ray.
 Multiple statics hits will be detected only if <code>hitStatics</code> and <code>penetrate</code> settings were enabled while creating a ray.




    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.4/manual.html#6.6">table</a></span>
        Table of statics hit by the ray. <em>nil: no statics were hit.</em>
    </ol>




</dd>
    <dt>
    <a name = "Ray:GetStaticPosition"></a>
    <strong>Ray:GetStaticPosition()</strong>
    </dt>
    <dd>
    Get the position of the first static mesh hit by the ray.
 Valid position will be returned only if <code>hitStatics</code> setting was enabled while creating a ray.




    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../4 primitive classes/Vec3.html#">Vec3</a></span>
        Hit position. <em>nil: no static mesh was hit.</em>
    </ol>




</dd>
    <dt>
    <a name = "Ray:GetStaticDistance"></a>
    <strong>Ray:GetStaticDistance()</strong>
    </dt>
    <dd>
    Get the distance from the ray origin to the first static mesh hit position.
 Valid distance will be returned only if <code>hitStatics</code> setting was enabled while creating a ray.




    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">float</span></span>
        Hit distance. <em>nil: no static mesh was hit.</em>
    </ol>




</dd>
    <dt>
    <a name = "Ray:HitRoom"></a>
    <strong>Ray:HitRoom([name])</strong>
    </dt>
    <dd>
    Check if the ray hit a room.
 If a room name is provided, returns <code>true</code> only when the hit occurs with the relevant room geometry.



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">name</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.4/manual.html#6.4">string</a></span>
         Name of the room to check for.
         <em>Optional.</em>
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        Room hit status. <em>true if a room was hit, false otherwise.</em>
    </ol>




</dd>
    <dt>
    <a name = "Ray:HitMoveable"></a>
    <strong>Ray:HitMoveable([name])</strong>
    </dt>
    <dd>
    Check if the ray hit a moveable.
 Moveable hits will be detected only if <code>hitMoveables</code> setting was enabled while creating a ray.
 If a moveable name is provided, returns <code>true</code> only when the hit occurs with the relevant moveable.



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">name</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.4/manual.html#6.4">string</a></span>
         Name of the moveable to check for.
         <em>Optional.</em>
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        Moveable hit status. <em>true if a moveable was hit, false otherwise.</em>
    </ol>




</dd>
    <dt>
    <a name = "Ray:HitStatic"></a>
    <strong>Ray:HitStatic([name])</strong>
    </dt>
    <dd>
    Check if the ray hit a static mesh.
 Static mesh hits will be detected only if <code>hitStatics</code> setting was enabled while creating a ray.
 If a static mesh name is provided, returns <code>true</code> only when the hit occurs with the relevant static mesh.



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">name</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.4/manual.html#6.4">string</a></span>
         Name of the static mesh to check for.
         <em>Optional.</em>
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        Static mesh hit status. <em>true if a static mesh was hit, false otherwise.</em>
    </ol>




</dd>
    <dt>
    <a name = "Ray:Preview"></a>
    <strong>Ray:Preview()</strong>
    </dt>
    <dd>
    Preview this ray in the Collision Stats debug page.








</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="https://github.com/hispidence/TEN-LDoc">TEN-LDoc</a> (a fork of <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a>)</i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
